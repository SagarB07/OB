<?xml version="1.0"?>
  <database name="FUNCTION CO_UP_TERCERO_RET_COMPRA">
    <function name="CO_UP_TERCERO_RET_COMPRA" type="NULL">
      <body><![CDATA[Cur_Retencion RECORD;
 BEGIN
  
    
   FOR Cur_Retencion IN (
    SELECT f.fact_Acct_id, i.c_bpartner_id
                  FROM fact_acct f, co_retencion_compra rc, c_invoice i
                  where f.record_id = rc.co_retencion_compra_id
                  and rc.c_invoice_id = i.c_invoice_id
                
   ) LOOP

               update fact_acct
               set c_bpartner_id = Cur_Retencion.c_bpartner_id
               where fact_acct_id = Cur_Retencion.fact_Acct_id;
             
   END LOOP;
  
  Return;
END CO_UP_TERCERO_RET_COMPRA
]]></body>
    </function>
  </database>
